[Unit]
Description=MinIO Docker Compose Service
After=network.target docker.service
Requires=docker.service

[Service]
Type=oneshot
WorkingDirectory={{MINIO_DIR}}
ExecStart=/bin/bash -c 'export MINIO_ROOT_USER=$(pass minio/root_username) MINIO_ROOT_PASSWORD=$(pass minio/root_passwd); /usr/bin/docker compose up -d'
ExecStop=/usr/bin/docker compose down
RemainAfterExit=yes
User=root
Group=root

[Install]
WantedBy=multi-user.target
